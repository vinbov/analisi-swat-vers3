<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'">
    <title>Analisi S.W.A.T. - Electron Container</title>
    <style>
      body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; padding: 20px; line-height: 1.6; }
      code { background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px; }
      .container { max-width: 800px; margin: auto; }
      .info { background-color: #e7f3fe; border-left: 6px solid #2196F3; padding: 15px; margin-top: 20px; }
      .error-box { background-color: #ffebee; border-left: 6px solid #f44336; color: #c62828; padding: 20px; margin-top: 20px; }
      .error-box h2 { color: #d32f2f; margin-top: 0; }
      .error-box ul { padding-left: 20px; }
      .error-box a { color: #1976d2; }
      .versions { margin-top: 30px; font-size: 0.9em; color: #555; }
      .technical-note { font-size: 0.8em; color: #777; margin-top:15px; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Analisi S.W.A.T. - Electron Container</h1>

      <div id="error-message-container">
        <!-- Questo contenitore verrà popolato da renderer.js se c'è un errore di caricamento URL -->
      </div>

      <div class="info" id="normal-info-container">
        <p>
          <strong>Nota:</strong> Se stai vedendo questo contenuto e non un messaggio di errore qui sopra, significa che Electron è configurato per caricare questo file <code>index.html</code> locale direttamente (ad esempio, tramite <code>mainWindow.loadFile('index.html')</code> in <code>main.js</code>).
        </p>
        <p>
          Per visualizzare la tua applicazione Next.js "Analisi S.W.A.T." all'interno di questa finestra Electron:
        </p>
        <ol>
          <li>Assicurati che la tua applicazione Next.js sia in esecuzione (es. su <code>http://localhost:9002</code>, avviata con <code>npm run dev</code>).</li>
          <li>Il file <code>main.js</code> in Electron deve essere configurato per caricare quell'URL, ad esempio:
            <br><code>mainWindow.loadURL('http://localhost:9002');</code>
          </li>
        </ol>
        <p>
          Quando <code>loadURL</code> viene usato con l'indirizzo della tua app Next.js (e l'app è raggiungibile), questo contenuto <code>index.html</code> <strong>non</strong> sarà il contenuto principale visibile.
        </p>
      </div>

      <div class="versions">
        We are using Node.js <span id="node-version">-</span>,
        Chromium <span id="chrome-version">-</span>,
        and Electron <span id="electron-version">-</span>.
        <p class="technical-note">Per dettagli tecnici sugli errori, controlla la console di Electron Fiddle (spesso accessibile tramite "View" > "Toggle Developer Tools" e poi selezionando la tab "Console", oppure cercando i log nella sezione output di Fiddle).</p>
      </div>
    </div>

    <script src="./renderer.js"></script>
  </body>
</html>
